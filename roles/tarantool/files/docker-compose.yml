---
version: "3.6"
services:
  tarantool:
    image: tarantool/tarantool:2
    container_name: tarantool
    command: tarantool /opt/tarantool/app/init.lua
    restart: always
    environment:
      TARANTOOL_USER_NAME: tarantool
      TARANTOOL_USER_PASSWORD: tarantool
    volumes:
      - ./init.lua:/opt/tarantool/app/init.lua
      - data:/var/lib/tarantool
    ports:
      - 3301:3301
      - 8080:8080

  krakend:
    image: devopsfaith/krakend:2.4
    container_name: krakend
    restart: always
    volumes:
      - ./krakend.json:/etc/krakend/krakend.json
    ports:
      - 8081:8081

volumes:
  data: null
