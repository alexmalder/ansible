# Lines below here are managed by Salt, do not edit
[Interface]
{% if grains['id'] != "wireguard-test" %}
Address = {{ vars.wg_server_address }}
{% endif %}
ListenPort = {{ vars.wg_server_port }}
PrivateKey = {{ vars.wg_server_private_key }}
{% for client in users.wg_peers %}
{% if client.public_key is defined %}
#{{ client.username }}
[Peer]
PublicKey = {{ client.public_key }}
AllowedIPs = {{ client.allowed_ips }}
{% endif %}
{% endfor %}
