[
  {
    "endpoint": "/",
    "method": "GET",
    "backend": [
      {
        "url_pattern": "/",
        "host": ["http://tarantool:8090"]
      }
    ]
  },
  {
    "endpoint": "/",
    "method": "POST",
    "input_headers": [
      "Host",
      "X-Forwarded-For",
      "Content-Length",
      "Content-Type",
      "Accept-Encoding",
      "Accept",
      "X-Forwarded-Host",
      "Transfer-Encoding",
      "User-Agent"
    ],
    "output_encoding": "no-op",
    "backend": [
      {
        "url_pattern": "/",
        "host": ["http://tarantool:8090"]
      }
    ]
  },
  {
    "endpoint": "/api/v1/auth/sign-in",
    "method": "POST",
    "output_encoding": "no-op",
    "backend": [
      {
        "url_pattern": "/realms/master/protocol/openid-connect/token",
        "host": ["http://keycloak:80"]
      }
    ]
  },
  {
    "endpoint": "/api/v1/keycloak",
    "method": "GET",
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    },
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}",
        "host": ["http://tarantool:8090"]
      }
    ]
  },
  {
    "endpoint": "/api/v1/feed",
    "method": "GET",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/feed",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/feed/{id}",
    "method": "GET",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/feed/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/feed",
    "method": "POST",
    "output_encoding": "no-op",
    "input_headers": [
      "Host",
      "X-Forwarded-For",
      "Content-Length",
      "Content-Type",
      "Accept-Encoding",
      "Accept",
      "X-Forwarded-Host",
      "Transfer-Encoding",
      "User-Agent"
    ],
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/feed",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/feed/{id}",
    "method": "PUT",
    "output_encoding": "no-op",
    "input_headers": [
      "Host",
      "X-Forwarded-For",
      "Content-Length",
      "Content-Type",
      "Accept-Encoding",
      "Accept",
      "X-Forwarded-Host",
      "Transfer-Encoding",
      "User-Agent"
    ],
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/feed/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/feed/{id}",
    "method": "DELETE",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/feed/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/labels",
    "method": "GET",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/labels",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/labels/{id}",
    "method": "GET",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/labels/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/labels",
    "method": "POST",
    "output_encoding": "no-op",
    "input_headers": [
      "Host",
      "X-Forwarded-For",
      "Content-Length",
      "Content-Type",
      "Accept-Encoding",
      "Accept",
      "X-Forwarded-Host",
      "Transfer-Encoding",
      "User-Agent"
    ],
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/labels",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/labels/{id}",
    "method": "PUT",
    "output_encoding": "no-op",
    "input_headers": [
      "Host",
      "X-Forwarded-For",
      "Content-Length",
      "Content-Type",
      "Accept-Encoding",
      "Accept",
      "X-Forwarded-Host",
      "Transfer-Encoding",
      "User-Agent"
    ],
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/labels/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/labels/{id}",
    "method": "DELETE",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/labels/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/fl",
    "method": "GET",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/fl",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/fl/{id}",
    "method": "GET",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/fl/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/fl",
    "method": "POST",
    "output_encoding": "no-op",
    "input_headers": [
      "Host",
      "X-Forwarded-For",
      "Content-Length",
      "Content-Type",
      "Accept-Encoding",
      "Accept",
      "X-Forwarded-Host",
      "Transfer-Encoding",
      "User-Agent"
    ],
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/fl",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/fl/{id}",
    "method": "PUT",
    "output_encoding": "no-op",
    "input_headers": [
      "Host",
      "X-Forwarded-For",
      "Content-Length",
      "Content-Type",
      "Accept-Encoding",
      "Accept",
      "X-Forwarded-Host",
      "Transfer-Encoding",
      "User-Agent"
    ],
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/fl/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  },
  {
    "endpoint": "/api/v1/fl/{id}",
    "method": "DELETE",
    "backend": [
      {
        "url_pattern": "/keycloak/{JWT.sub}/{JWT.resource_access}/fl/{id}",
        "host": ["http://tarantool:8090"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "jwk_url": "http://keycloak:80/realms/master/protocol/openid-connect/certs",
        "disable_jwk_security": true
      }
    }
  }
]
